---
title: Troubleshooting
description: Common errors, debugging steps, and edge cases
author: zoobzio
published: 2026-02-21
updated: 2026-02-21
tags:
  - Troubleshooting
  - Guides
---

# Troubleshooting

Common errors and how to resolve them.

## Docker Is Not Available

**Error:** `docker is not available`

**Cause:** The Docker daemon is not running or the current user does not have permission to access it.

**Steps:**

1. Verify Docker is installed: `docker --version`
2. Start the Docker daemon: `sudo systemctl start docker` (Linux) or open Docker Desktop (macOS)
3. Verify access: `docker info`
4. If permission denied, add your user to the docker group: `sudo usermod -aG docker $USER` (requires re-login)

cldpd runs `docker info` as a preflight check before any operation. If this fails, no further work is attempted.

## Pod Not Found

**Error:** `pod not found: <name>`

**Cause:** No directory exists at `~/.cldpd/pods/<name>/`.

**Steps:**

1. Check the pod directory exists: `ls ~/.cldpd/pods/`
2. Verify spelling -- the pod name is the directory name, case-sensitive
3. Create the pod directory if missing: `mkdir -p ~/.cldpd/pods/<name>`

## Invalid Pod: Dockerfile Not Found

**Error:** `invalid pod: Dockerfile not found: <name>`

**Cause:** The pod directory exists but does not contain a file named `Dockerfile`.

**Steps:**

1. Check the pod directory contents: `ls ~/.cldpd/pods/<name>/`
2. Verify the filename is exactly `Dockerfile` (capital D, no extension)
3. Create the Dockerfile if missing

## Image Build Failed

**Error:** `image build failed: exit code <N>`

**Cause:** The Docker image build failed. This is a problem in the Dockerfile, not in cldpd.

**Steps:**

1. Build the image manually to see full output: `docker build ~/.cldpd/pods/<name>/`
2. Common causes:
   - Invalid Dockerfile syntax
   - Failed `RUN` command (package install failure, network error)
   - Missing build context files
   - Invalid base image
3. Fix the Dockerfile and retry

## Container Exited With Error

**Error:** `container exited with error: exit code <N>`

**Cause:** The container ran but exited with a non-zero status. This means Claude Code or the command inside the container failed.

**Steps:**

1. Check the output stream -- the team leader's narration may indicate what went wrong
2. Common exit codes:
   - `1` -- General error (Claude Code encountered a problem)
   - `2` -- Misuse of shell command (bad arguments to claude)
   - `137` -- Container was killed (OOM or manual `docker kill`)
   - `139` -- Segmentation fault
3. Verify environment variables are set correctly in `pod.json` (especially `ANTHROPIC_API_KEY`)
4. Try running the container manually: `docker run -it <image> /bin/sh`

## No Running Session for Pod

**Error:** `no running session for pod: cldpd-<name>`

**Cause:** `cldpd resume` was called but no container named `cldpd-<name>` is currently running.

**Steps:**

1. Check if the container is running: `docker ps --filter name=cldpd-<name>`
2. If the container has already exited, resume is not possible -- containers use `--rm` and are cleaned up on exit
3. Start a new session with `cldpd start`

## Container Name Conflict

**Error:** Docker reports a name conflict when starting a pod.

**Cause:** A container named `cldpd-<name>` already exists. This happens when a previous run did not clean up (e.g., the process was killed before `--rm` could take effect).

**Steps:**

1. Remove the stale container: `docker rm -f cldpd-<name>`
2. Retry `cldpd start`

Only one instance of a pod can run at a time. The deterministic naming (`cldpd-<podname>`) enforces this.

## pod.json Parse Error

**Error:** `parse pod.json: <json error>`

**Cause:** The `pod.json` file exists but contains invalid JSON.

**Steps:**

1. Validate the JSON: `python3 -m json.tool ~/.cldpd/pods/<name>/pod.json`
2. Common issues:
   - Trailing commas (not valid in JSON)
   - Comments (JSON does not support comments)
   - Unquoted keys
   - Single quotes instead of double quotes
3. All fields in `pod.json` are optional -- if you do not need configuration, delete the file entirely

## Context Cancellation

If cldpd is interrupted (Ctrl+C), the signal is propagated to the Docker subprocess via context cancellation. The container may or may not be cleaned up depending on timing:

- If `--rm` completes, the container is removed
- If the process is killed before cleanup, a stale container may remain (see "Container Name Conflict" above)

## Next Steps

- [Testing Guide](1.testing.md) -- How to test code that uses cldpd
- [API Reference](../3.reference/1.api.md) -- Error types and function behaviour
